{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\uzuma\\\\Desktop\\\\hamdiRH\\\\proshop mern\\\\frontend\\\\src\\\\containers\\\\Profile.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Row, Col, Button, Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { getUserDetails, updateUserDetails } from '../redux/user/actions';\nimport { selectUserData, selectUserLoading, selectUserError, selectUpdatedUserData } from '../redux/user/selectors';\n\nconst Profile = () => {\n  const dispatch = useDispatch();\n  const [userData, setUserData] = useState({});\n  const [message, setMessage] = useState('');\n  const user = useSelector(selectUserData);\n  const updatedUser = useSelector(selectUpdatedUserData);\n  const loading = useSelector(selectUserLoading);\n  const error = useSelector(selectUserError);\n  useEffect(() => {\n    if (!user.name) {\n      dispatch(getUserDetails('profile'));\n    } else {\n      setUserData({\n        name: user.name,\n        email: user.email\n      });\n    }\n  }, [user, dispatch]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    if (userData.password !== userData.confirmPassword) setMessage('Passwords do not mach');else {\n      // TODO: dispatch update profile\n      dispatch(updateUserDetails({\n        name: userData.name,\n        email: userData.email,\n        password: userData.password\n      }));\n    }\n  };\n\n  const handleChange = e => setUserData({ ...userData,\n    [e.target.name]: e.target.value\n  });\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Proshop\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: \"Profile page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"User Profile\"), error.user && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 26\n    }\n  }, error.user), updatedUser.success && /*#__PURE__*/React.createElement(Message, {\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Profile Updated\"), message && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }\n  }, message), loading.user && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 28\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter name\",\n    value: userData.name,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Enter email\",\n    value: userData.email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Enter password\",\n    value: userData.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"confirmPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    name: \"confirmPassword\",\n    placeholder: \"Confirm password\",\n    value: userData.confirmPassword,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Update\"))), /*#__PURE__*/React.createElement(Col, {\n    md: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, \"My Orders\"))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/uzuma/Desktop/hamdiRH/proshop mern/frontend/src/containers/Profile.js"],"names":["React","useEffect","useState","Row","Col","Button","Form","useDispatch","useSelector","Helmet","Message","Loader","getUserDetails","updateUserDetails","selectUserData","selectUserLoading","selectUserError","selectUpdatedUserData","Profile","dispatch","userData","setUserData","message","setMessage","user","updatedUser","loading","error","name","email","submitHandler","e","preventDefault","password","confirmPassword","handleChange","target","value","success"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,MAAnB,EAA2BC,IAA3B,QAAuC,iBAAvC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,cAAT,EAAyBC,iBAAzB,QAAkD,uBAAlD;AACA,SACEC,cADF,EAEEC,iBAFF,EAGEC,eAHF,EAIEC,qBAJF,QAKO,yBALP;;AAOA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AACA,QAAM,CAACa,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACoB,OAAD,EAAUC,UAAV,IAAwBrB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAMsB,IAAI,GAAGhB,WAAW,CAACM,cAAD,CAAxB;AACA,QAAMW,WAAW,GAAGjB,WAAW,CAACS,qBAAD,CAA/B;AACA,QAAMS,OAAO,GAAGlB,WAAW,CAACO,iBAAD,CAA3B;AACA,QAAMY,KAAK,GAAGnB,WAAW,CAACQ,eAAD,CAAzB;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACuB,IAAI,CAACI,IAAV,EAAgB;AACdT,MAAAA,QAAQ,CAACP,cAAc,CAAC,SAAD,CAAf,CAAR;AACD,KAFD,MAEO;AACLS,MAAAA,WAAW,CAAC;AACVO,QAAAA,IAAI,EAAEJ,IAAI,CAACI,IADD;AAEVC,QAAAA,KAAK,EAAEL,IAAI,CAACK;AAFF,OAAD,CAAX;AAID;AACF,GATQ,EASN,CAACL,IAAD,EAAOL,QAAP,CATM,CAAT;;AAUA,QAAMW,aAAa,GAAIC,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIZ,QAAQ,CAACa,QAAT,KAAsBb,QAAQ,CAACc,eAAnC,EACEX,UAAU,CAAC,uBAAD,CAAV,CADF,KAEK;AACH;AACAJ,MAAAA,QAAQ,CACNN,iBAAiB,CAAC;AAChBe,QAAAA,IAAI,EAAER,QAAQ,CAACQ,IADC;AAEhBC,QAAAA,KAAK,EAAET,QAAQ,CAACS,KAFA;AAGhBI,QAAAA,QAAQ,EAAEb,QAAQ,CAACa;AAHH,OAAD,CADX,CAAR;AAOD;AACF,GAdD;;AAeA,QAAME,YAAY,GAAIJ,CAAD,IACnBV,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAe,KAACW,CAAC,CAACK,MAAF,CAASR,IAAV,GAAiBG,CAAC,CAACK,MAAF,CAASC;AAAzC,GAAD,CADb;;AAEA,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAM,IAAA,IAAI,EAAC,aAAX;AAAyB,IAAA,OAAO,EAAC,cAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAKE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEGV,KAAK,CAACH,IAAN,iBAAc,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BG,KAAK,CAACH,IAAjC,CAFjB,EAGGC,WAAW,CAACa,OAAZ,iBACC,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAC,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJJ,EAOGhB,OAAO,iBAAI,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BA,OAA3B,CAPd,EAQGI,OAAO,CAACF,IAAR,iBAAgB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARnB,eASE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEM,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,oBAAC,IAAD,CAAM,OAAN;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,YAHd;AAIE,IAAA,KAAK,EAAEV,QAAQ,CAACQ,IAJlB;AAKE,IAAA,QAAQ,EAAEO,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAWE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE,oBAAC,IAAD,CAAM,OAAN;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,WAAW,EAAC,aAHd;AAIE,IAAA,KAAK,EAAEf,QAAQ,CAACS,KAJlB;AAKE,IAAA,QAAQ,EAAEM,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAXF,eAqBE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,oBAAC,IAAD,CAAM,OAAN;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,gBAHd;AAIE,IAAA,KAAK,EAAEf,QAAQ,CAACa,QAJlB;AAKE,IAAA,QAAQ,EAAEE,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CArBF,eA+BE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,oBAAC,IAAD,CAAM,OAAN;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,iBAFP;AAGE,IAAA,WAAW,EAAC,kBAHd;AAIE,IAAA,KAAK,EAAEf,QAAQ,CAACc,eAJlB;AAKE,IAAA,QAAQ,EAAEC,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CA/BF,eAyCE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAC,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAzCF,CATF,CADF,eAwDE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CAxDF,CALF,CADF;AAoED,CAxGD;;AA0GA,eAAejB,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Row, Col, Button, Form } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Helmet } from 'react-helmet';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { getUserDetails, updateUserDetails } from '../redux/user/actions';\r\nimport {\r\n  selectUserData,\r\n  selectUserLoading,\r\n  selectUserError,\r\n  selectUpdatedUserData,\r\n} from '../redux/user/selectors';\r\n\r\nconst Profile = () => {\r\n  const dispatch = useDispatch();\r\n  const [userData, setUserData] = useState({});\r\n  const [message, setMessage] = useState('');\r\n  const user = useSelector(selectUserData);\r\n  const updatedUser = useSelector(selectUpdatedUserData);\r\n  const loading = useSelector(selectUserLoading);\r\n  const error = useSelector(selectUserError);\r\n\r\n  useEffect(() => {\r\n    if (!user.name) {\r\n      dispatch(getUserDetails('profile'));\r\n    } else {\r\n      setUserData({\r\n        name: user.name,\r\n        email: user.email,\r\n      });\r\n    }\r\n  }, [user, dispatch]);\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (userData.password !== userData.confirmPassword)\r\n      setMessage('Passwords do not mach');\r\n    else {\r\n      // TODO: dispatch update profile\r\n      dispatch(\r\n        updateUserDetails({\r\n          name: userData.name,\r\n          email: userData.email,\r\n          password: userData.password,\r\n        }),\r\n      );\r\n    }\r\n  };\r\n  const handleChange = (e) =>\r\n    setUserData({ ...userData, [e.target.name]: e.target.value });\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Proshop</title>\r\n        <meta name=\"description\" content=\"Profile page\" />\r\n      </Helmet>\r\n      <Row>\r\n        <Col md={3}>\r\n          <h2>User Profile</h2>\r\n          {error.user && <Message variant=\"danger\">{error.user}</Message>}\r\n          {updatedUser.success && (\r\n            <Message variant=\"success\">Profile Updated</Message>\r\n          )}\r\n\r\n          {message && <Message variant=\"danger\">{message}</Message>}\r\n          {loading.user && <Loader />}\r\n          <Form onSubmit={submitHandler}>\r\n            <Form.Group controlId=\"name\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"name\"\r\n                placeholder=\"Enter name\"\r\n                value={userData.name}\r\n                onChange={handleChange}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"email\">\r\n              <Form.Label>Email Address</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Enter email\"\r\n                value={userData.email}\r\n                onChange={handleChange}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Enter password\"\r\n                value={userData.password}\r\n                onChange={handleChange}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"confirmPassword\">\r\n              <Form.Label>Confirm Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"confirmPassword\"\r\n                placeholder=\"Confirm password\"\r\n                value={userData.confirmPassword}\r\n                onChange={handleChange}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n            <Button type=\"submit\" variant=\"primary\">\r\n              Update\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n        <Col md={9}>\r\n          <h2>My Orders</h2>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}