{"ast":null,"code":"import { takeEvery, put, all, call, select } from 'redux-saga/effects';\nimport * as api from './services';\nimport * as CONSTANTS from './constants';\nexport function* userDetails({\n  id\n}) {\n  try {\n    const state = yield select();\n    const {\n      auth: {\n        data: {\n          userInfo\n        }\n      }\n    } = state;\n    const data = yield call(api.loginService, id);\n    yield put({\n      type: CONSTANTS.USER_LOGIN_SUCCESS,\n      payload: data\n    });\n    localStorage.setItem('userInfo', JSON.stringify(data));\n    localStorage.setItem('token', data.token);\n  } catch (error) {\n    yield put({\n      type: CONSTANTS.USER_LOGIN_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n}\nexport function* userDetailsWatcher() {\n  yield takeEvery(CONSTANTS.USER_DETAILS_REQUEST, userDetails);\n}\nexport default function* productSaga() {\n  yield all([userDetailsWatcher()]);\n}","map":{"version":3,"sources":["C:/Users/uzuma/Desktop/hamdiRH/proshop mern/frontend/src/redux/user/saga.js"],"names":["takeEvery","put","all","call","select","api","CONSTANTS","userDetails","id","state","auth","data","userInfo","loginService","type","USER_LOGIN_SUCCESS","payload","localStorage","setItem","JSON","stringify","token","error","USER_LOGIN_FAIL","response","message","userDetailsWatcher","USER_DETAILS_REQUEST","productSaga"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAmCC,MAAnC,QAAiD,oBAAjD;AACA,OAAO,KAAKC,GAAZ,MAAqB,YAArB;AACA,OAAO,KAAKC,SAAZ,MAA2B,aAA3B;AAEA,OAAO,UAAUC,WAAV,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAA8B;AACnC,MAAI;AACF,UAAMC,KAAK,GAAG,MAAML,MAAM,EAA1B;AACA,UAAM;AAACM,MAAAA,IAAI,EAAC;AAACC,QAAAA,IAAI,EAAC;AAACC,UAAAA;AAAD;AAAN;AAAN,QAAyBH,KAA/B;AACA,UAAME,IAAI,GAAG,MAAMR,IAAI,CAACE,GAAG,CAACQ,YAAL,EAAmBL,EAAnB,CAAvB;AAEA,UAAMP,GAAG,CAAC;AACRa,MAAAA,IAAI,EAAER,SAAS,CAACS,kBADR;AAERC,MAAAA,OAAO,EAAEL;AAFD,KAAD,CAAT;AAIAM,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAAjC;AACAM,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BP,IAAI,CAACU,KAAnC;AACD,GAXD,CAWE,OAAOC,KAAP,EAAc;AACd,UAAMrB,GAAG,CAAC;AACRa,MAAAA,IAAI,EAAER,SAAS,CAACiB,eADR;AAERP,MAAAA,OAAO,EACLM,KAAK,CAACE,QAAN,IAAkBF,KAAK,CAACE,QAAN,CAAeb,IAAf,CAAoBc,OAAtC,GACIH,KAAK,CAACE,QAAN,CAAeb,IAAf,CAAoBc,OADxB,GAEIH,KAAK,CAACG;AALJ,KAAD,CAAT;AAOD;AACF;AAED,OAAO,UAAUC,kBAAV,GAA+B;AACpC,QAAM1B,SAAS,CAACM,SAAS,CAACqB,oBAAX,EAAiCpB,WAAjC,CAAf;AACD;AAED,eAAe,UAAUqB,WAAV,GAAwB;AACrC,QAAM1B,GAAG,CAAC,CAACwB,kBAAkB,EAAnB,CAAD,CAAT;AACD","sourcesContent":["import { takeEvery, put, all, call,select } from 'redux-saga/effects';\r\nimport * as api from './services';\r\nimport * as CONSTANTS from './constants';\r\n\r\nexport function* userDetails({ id }) {\r\n  try {\r\n    const state = yield select();\r\n    const {auth:{data:{userInfo}}}=state\r\n    const data = yield call(api.loginService, id);\r\n\r\n    yield put({\r\n      type: CONSTANTS.USER_LOGIN_SUCCESS,\r\n      payload: data,\r\n    });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n    localStorage.setItem('token', data.token);\r\n  } catch (error) {\r\n    yield put({\r\n      type: CONSTANTS.USER_LOGIN_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport function* userDetailsWatcher() {\r\n  yield takeEvery(CONSTANTS.USER_DETAILS_REQUEST, userDetails);\r\n}\r\n\r\nexport default function* productSaga() {\r\n  yield all([userDetailsWatcher(),]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}